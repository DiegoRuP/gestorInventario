
<h1>Mostrar registros</h1>

<hr>

<div class="buscar">
    <input [(ngModel)]="searchQuery" placeholder="Buscar productos" />
    <button (click)="buscar()"><i class="fa-solid fa-magnifying-glass"></i></button>
</div>

<table class="table">
  <thead>
    <tr>
      <th scope="col">ID Producto</th>
      <th scope="col">Nombre</th>
      <th scope="col">Descripción</th>
      <th scope="col">ID Categoría</th>
      <th scope="col">Marca</th>
      <th scope="col">Precio Compra</th>
      <th scope="col">Precio Venta</th>
      <th scope="col">Stocks</th>
      <th scope="col">Unidad Medida</th>
      <th scope="col">ID Proveedor</th>
      <th scope="col">Fecha Ingreso</th>
      <th scope="col">Fecha Caducidad</th>
      <th scope="col">Código Barras</th>
      <th scope="col">Acciones</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let producto of array">
      <td>{{ producto.id_producto }}</td>
      <td>{{ producto.nombre }}</td>
      <td>{{ producto.descripcion }}</td>
      <td>{{ producto.id_categoria }}</td>
      <td>{{ producto.marca }}</td>
      <td>{{ producto.precio_compra }}</td>
      <td>{{ producto.precio_venta }}</td>
      <td>{{ producto.cantidad_stock }}</td>
      <td>{{ producto.unidad_medida }}</td>
      <td>{{ producto.id_proveedor }}</td>
      <td>{{ producto.fecha_ingreso }}</td>
      <td>{{ producto.fecha_caducidad }}</td>
      <td>{{ producto.codigo_barras }}</td>
      <td>
        <div class="acciones">
          <button class="btn btn-danger" (click)="baja(producto.id_producto)"><i class="fa-solid fa-trash"></i></button>
          <button class="btn btn-warning" (click)="seleccionarProducto(producto)"><i class="fa-solid fa-pencil"></i></button>
      
        </div>
        </td>
    </tr>
  </tbody>
</table>

<div *ngIf="productoSeleccionado" id="productoS">
  <br>
  <h1>Editar Producto</h1>
  <hr>
  <form (ngSubmit)="actualizar()">
    <div class="form-group row">
      <label for="id_producto" class="col-sm-2 col-form-label">ID Producto</label>
      <div class="col-sm-10">
        <input id="id_producto" [(ngModel)]="productoSeleccionado.id_producto" name="id_producto" class="form-control" required readonly>
      </div>
      
    </div>
    <div class="form-group row">
      <label for="nombre" class="col-sm-2 col-form-label">Nombre</label>
      <div class="col-sm-10">
        <input id="nombre" [(ngModel)]="productoSeleccionado.nombre" name="nombre" class="form-control" required>
      </div>
      
    </div>
    <div class="form-group row">
      <label for="descripcion" class="col-sm-2 col-form-label">Descripción</label>
      <div class="col-sm-10">
        <input id="descripcion" [(ngModel)]="productoSeleccionado.descripcion" name="descripcion" class="form-control" required>
      </div>
      
    </div>
    <div class="form-group row">
      <label for="id_categoria" class="col-sm-2 col-form-label">ID Categoría</label>
      <div class="col-sm-10">
        <input id="id_categoria" [(ngModel)]="productoSeleccionado.id_categoria" name="id_categoria" class="form-control" required>
      </div>
      
    </div>
    <div class="form-group row">
      <label for="marca" class="col-sm-2 col-form-label">Marca</label>
      <div class="col-sm-10">
        <input id="marca" [(ngModel)]="productoSeleccionado.marca" name="marca" class="form-control" required>
      </div>
      
    </div>
    <div class="form-group row">
      <label for="precio_compra" class="col-sm-2 col-form-label">Precio Compra</label>
      <div class="col-sm-10">
        <input id="precio_compra" [(ngModel)]="productoSeleccionado.precio_compra" name="precio_compra" class="form-control" required>
      </div>
      
    </div>
    <div class="form-group row">
      <label for="precio_venta" class="col-sm-2 col-form-label">Precio Venta</label>
      <div class="col-sm-10">
        <input id="precio_venta" [(ngModel)]="productoSeleccionado.precio_venta" name="precio_venta" class="form-control" required>
      </div>
      
    </div>
    <div class="form-group row">
      <label for="cantidad_stock" class="col-sm-2 col-form-label">Stocks</label>
      <div class="col-sm-10">
        <input id="cantidad_stock" [(ngModel)]="productoSeleccionado.cantidad_stock" name="cantidad_stock" class="form-control" required>
      </div>
      
    </div>
    <div class="form-group row">
      <label for="unidad_medida" class="col-sm-2 col-form-label">Unidad Medida</label>
      <div class="col-sm-10">
        <input id="unidad_medida" [(ngModel)]="productoSeleccionado.unidad_medida" name="unidad_medida" class="form-control" required>
      </div>
      
    </div>
    <div class="form-group row">
      <label for="id_proveedor" class="col-sm-2 col-form-label">ID Proveedor</label>
      <div class="col-sm-10">
        <input id="id_proveedor" [(ngModel)]="productoSeleccionado.id_proveedor" name="id_proveedor" class="form-control" required>
      </div>
      
    </div>
    <div class="form-group row">
      <label for="fecha_ingreso" class="col-sm-2 col-form-label">Fecha Ingreso</label>
      <div class="col-sm-10">
        <input id="fecha_ingreso" [(ngModel)]="productoSeleccionado.fecha_ingreso" name="fecha_ingreso" class="form-control" required>
      </div>
      
    </div>
    <div class="form-group row">
      <label for="fecha_caducidad" class="col-sm-2 col-form-label">Fecha Caducidad</label>
      <div class="col-sm-10">
        <input id="fecha_caducidad" [(ngModel)]="productoSeleccionado.fecha_caducidad" name="fecha_caducidad" class="form-control" required>
      </div>
      
    </div>
    <div class="form-group row">
      <label for="codigo_barras" class="col-sm-2 col-form-label">Código Barras</label>
      <div class="col-sm-10">
        <input id="codigo_barras" [(ngModel)]="productoSeleccionado.codigo_barras" name="codigo_barras" class="form-control" required>
      </div>
      
    </div>
    <hr>
    <button type="submit" class="btn btn-success">Guardar Cambios</button>
  </form>
</div>